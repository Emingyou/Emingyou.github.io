# 第七课 探测雷达（上）  
——用超声波传感器制作智能报警系统  

---

## **课程目标**  
1. **理解超声波测距原理**：学习超声波传感器如何探测障碍物距离。  
2. **掌握硬件连接**：正确连接超声波传感器与蜂鸣器。  
3. **编程实践**：通过Linkboy实现“距离报警”功能。  
4. **应用拓展**：探索超声波技术在自动驾驶、智能家居中的实际应用。  

---

## **硬件清单与功能说明**  
| 名称                    | 数量 | 作用与注意事项                                               |
| ----------------------- | ---- | ------------------------------------------------------------ |
| Arduino UNO主板         | 1    | 主控核心，处理传感器数据并控制蜂鸣器。                       |
| 超声波传感器（HC-SR04） | 1    | 通过发射和接收超声波测量距离，有效范围2cm-400cm。            |
| 有源蜂鸣器              | 1    | 通电即发声，正极接数字针脚，负极接GND。                      |
| 面包板                  | 1    | 提供无焊接电路连接，横向孔位内部连通。                       |
| 杜邦线（公对公）        | 若干 | 连接主板、传感器和蜂鸣器。（推荐使用红色代表正极，黑色代表负极便于区分） |
| USB数据线               | 1    | 上传程序并为Arduino供电。                                    |

---

## **第一部分：超声波测距原理**  
### **1. 超声波传感器的工作原理**  
- **发射与接收**：  
  1. 传感器发射一束超声波（频率>20kHz）。  
  2. 超声波遇到障碍物后反射，传感器接收回波。  
  3. 计算发射到接收的时间差（ΔT），通过公式 **距离= (ΔT×声速)/2** 得出距离（声速≈340m/s）。  

### **2. 类比蝙蝠的“回声定位”**  
蝙蝠通过发射超声波并接收回声判断障碍物位置，超声波传感器原理与此类似。  

### 3.目标系统分析

- **传感器**：超声波传感器
- **控制器**：Arduino UNO主板
- **执行器**：有源蜂鸣器

---

## **第二部分：硬件连接与电路设计**  
### **1. 超声波传感器引脚说明**  
- **VCC**：接5V电源。  
- **Trig**：触发信号输入（接数字针脚，如7号）。  
- **Echo**：回波信号输出（接数字针脚，如8号）。  
- **GND**：接地。  
- ![超声波传感器](https://pic.rmb.bdstatic.com/bjh/down/5924e0fc64da89621276b965b9a4bd55.jpeg@wm_2,t_55m+5a625Y+3L+WPquW3ruS4gOeCueWtpOeLrA==,fc_ffffff,ff_U2ltSGVp,sz_20,x_13,y_13)

### **2. 完整电路连接步骤**  
1. **超声波传感器**：  
   - VCC → 5V，GND → GND，Trig → 7号针脚，Echo → 8号针脚。  
2. **蜂鸣器**：  
   - 正极 → 9号针脚，负极 → GND。  

✅ **电路示意图**：  
```  
Arduino UNO  
│  
├─ 7号针脚 → Trig  
├─ 8号针脚 → Echo  
├─ 9号针脚 → 蜂鸣器正极  
├─ 5V → 超声波传感器VCC  
└─ GND → 超声波传感器GND + 蜂鸣器负极  
```

---

## **第三部分：Linkboy编程——距离报警逻辑**  
### **1. 虚拟电路搭建**  
1. 打开Linkboy，拖入以下模块：  
   - **Arduino UNO主板**（主控板 → Arduino Nano/Uno）。  
   - **超声波传感器**（传感输入 → 探测传感器 → 超声波测距器）。  
   - **蜂鸣器**（驱动输出 → 声音输出 → 有源蜂鸣器）。  
2. **连线步骤**：  
   - 主板**7号针脚** → 超声波传感器Trig。  
   - 主板**8号针脚** → 超声波传感器Echo。  
   - 主板**9号针脚** → 蜂鸣器正极。 ，GND →蜂鸣器负极。
   - 超声波传感器VCC → 5V，GND → GND。

### **2. 编写报警程序**  
1. **主程序逻辑**：  
   
   ```plaintext  
   反复执行：  
    
     如果超声波测距距离 < 200mm → 蜂鸣器发声  
     否则 → 蜂鸣器停止  
     延时0.1秒（防信号干扰）  
   ```
2. **具体操作**：  
   
   - 在控制器|反复执行中添加“条件判断”模块，设定阈值为200mm。  
   - 设置如果“超声波测距器|障碍物距离<200”蜂鸣器发声，否则停止
   - 在程序最后加上延时器延时0.01秒
3. **仿真测试**：点击“仿真”，模拟障碍物靠近时蜂鸣器是否触发。  

---

## **第四部分：实战操作——连接真实电路**  
### **1. 硬件连接步骤**  
1. **超声波传感器**：  
   - VCC → 5V，GND → GND，Trig → 7号，Echo → 8号。  
2. **蜂鸣器**：  
   - 正极 → 9号针脚，负极 → GND。  

✅ **检查要点**：  
- 传感器与障碍物保持垂直，避免角度偏移导致测距误差。  
- 蜂鸣器正负极切勿接反。  
- 这一步骤一定要认真完成，如果连接错误，主板在通电后很可能会烧坏，一定要注意安全！

### **2. 上传程序**  
1. 用USB线连接Arduino与电脑。  
2. 在Linkboy中选择正确串口号，点击“上传”。  
3. 测试效果：将手靠近传感器（<20cm），蜂鸣器鸣响；移开手后蜂鸣器停止。  

---

## **第五部分：常见问题与解决方法**  
| 问题           | 可能原因               | 解决方案                                     |
| -------------- | ---------------------- | -------------------------------------------- |
| 测距不准确     | 传感器未对准障碍物     | 调整传感器角度，确保垂直。                   |
| 蜂鸣器持续鸣响 | 阈值设置过低或接线错误 | 检查程序阈值是否为20cm，重新校准传感器。     |
| 无信号响应     | 针脚接错或供电不足     | 检查Trig/Echo是否接至7/8号针脚，确保5V稳定。 |

---

## **第六部分：知识延伸与创意挑战**  
### **1. 超声波技术的实际应用**  
- **自动驾驶**：用于泊车辅助、盲区检测和前碰撞预警。  
- **智能家居**：感应人体靠近自动开灯，或触发安防报警。  

### **2. 动手挑战**  
- **任务1**：添加LED灯，距离越近灯光越亮。  
- **任务2**：结合舵机，制作“自动避障机械臂”。  

---

## **课后作业**  
1. **实践任务**：完成超声波报警系统，录制功能演示视频。  
2. **思考题**：如何用超声波传感器测量移动物体的速度？  

---

**下节预告**：学习多传感器融合技术，制作“360度探测雷达”与“智能安防系统”！  

---
**作者寄语**：超声波是无声的“眼睛”，却能照亮科技的未来。愿你的每一次探索，都能在声波中捕捉到创新的频率！ 📡🔊